---
import FormContainer from '~/components/ui/Form.astro';
import Headline from '~/components/ui/Headline.astro';
import WidgetWrapper from '~/components/ui/WidgetWrapper.astro';

const {
  title,
  subtitle,
  inputs,
  textarea,
  disclaimer,
  button = 'Envoyer le message', // Valeur par d√©faut sous forme de string
  description,
  endpoint,
  id,
  isDark = false,
  classes = {},
  bg,
} = Astro.props;
---

<WidgetWrapper id={id} isDark={isDark} containerClass={`max-w-7xl mx-auto ${classes?.container ?? ''}`} bg={bg}>
  <Headline
    title={title}
    subtitle={subtitle}
    classes={{
      container: 'intersect-once intersect-quarter motion-safe:opacity-0 motion-safe:intersect:animate-fade',
    }}
  />

  {inputs && (
    <div
      class="flex flex-col max-w-xl mx-auto rounded-lg backdrop-blur border border-gray-200 dark:border-gray-700 bg-white dark:bg-slate-900 shadow p-4 sm:p-6 lg:p-8 w-full intersect-once intersect-quarter motion-safe:opacity-0 motion-safe:intersect:animate-fade"
      style="animation-delay: 200ms;"
    >
      <FormContainer
        inputs={inputs}
        textarea={textarea}
        disclaimer={disclaimer}
        button={button}
        description={description}
        endpoint={endpoint}
      />
    </div>
  )}
</WidgetWrapper>
